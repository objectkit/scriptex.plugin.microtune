# scriptex.plugin.microtuner
```js
/** scriptex.plugin.microtuner v0.1.0 license: Apache-2.0 */
const Scripter=(0,eval)("this");class e{static get SYSTEM(){return Scripter}static get API(){return new Map([["NeedsTimingInfo","needsTiming"],["ResetParameterDefaults","needsDefaults"],["PluginParameters","parameters"],["HandleMIDI","onMIDI"],["ProcessMIDI","onProcess"],["ParameterChanged","onParameter"],["Reset","onReset"],["Idle","onIdle"]])}constructor(e=new.target.SYSTEM,t=new.target.API,n=!1){this.t=e,this.i=t,this.o=n}deploy(e){let t=null,n=[],r=e.system=this.t,s=(e,t,n,r="value",s=this.o)=>Reflect.defineProperty(e,t,{[r]:n,configurable:s});return this.i.forEach(((i,a)=>(t=e[i],i in e&&(((n,i)=>"function"==typeof t&&s(r,n,((...t)=>e[i](...t))))(a,i)||((n,i)=>s(e,i,t,"value",!0)&&s(r,n,(()=>e[i]),"get"))(a,i))&&n.push(a)))),n}}class t extends Array{static get MICROTUNING(){return{ID:"microtuning",name:" m i c r o t u n e r ",type:"lin",unit:"Â¢",minValue:-100,maxValue:100,numberOfSteps:200,defaultValue:0}}constructor(){super(new.target.MICROTUNING)}}class n extends class extends class{static deploy(...t){return new e(this.SYSTEM,this.API,this.CONFIGURABLE).deploy(new this(...t))}set system(e){Reflect.defineProperty(this,"system",{value:e}),this.init()}get system(){throw new ReferenceError("SystemAccessFault")}init(){}}{onParameter(e,t){(e=this.parameters[e])&&(e=e.ID)&&(this[e]=t)}onMIDI(e){return this["on"+this.getMIDIName(e)](e)}onNoteOn(e){return this.onNote(e)}onNoteOff(e){return this.onNote(e)}onNote(e){return this.sendMIDI(e)}onControlChange(e){return this.sendMIDI(e)}onProgramChange(e){return this.sendMIDI(e)}onPolyPressure(e){return this.sendMIDI(e)}onChannelPressure(e){return this.sendMIDI(e)}onTargetEvent(e){return this.sendMIDI(e)}onPitchBend(e){return this.sendMIDI(e)}onEvent(e){return this.sendMIDI(e)}getMIDIName(e){let t=e.status;switch(t){case 0:return"Event";case 80:return"TargetEvent";case 128:return"NoteOff";case 144:return"NoteOn";case 160:return"PolyPressure";case 176:return"ControlChange";case 192:return"ProgramChange";case 208:return"ChannelPressure";case 224:return"PitchBend";default:throw new ReferenceError("EventNameNotFound: "+t)}}sendMIDI(e){const t=e.beatPos||0;return 0===t?e.send():t<0?+t===t?e.sendAfterBeats(-1*t):e.sendAfterMilliseconds(-1*t):e.sendAtBeat(t),t}}{static unitsForCents(e){return~~(40.96*e)}get parameters(){return new t}set microtuning(e){const t=n.unitsForCents(e);this.applyPitchBend(t)}applyPitchBend(e){const t=new PitchBend;t.value=e,t.send()}onReset(){this.system.UpdatePluginParameters()}}Scripter.Trace("\n\n\n   m i c r o t u n e r\n\n   license: Apache-2.0 (c) ObjectKit 2020\n   about: https://github.com/objectkit/scriptex.plugin.microtuner\n\n   This plugin provides cent-interval microtuning capabilities to MIDI instruments\n   that can receive pitchbends.\n\n"),n.deploy();
```
